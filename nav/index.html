<!DOCTYPE html>
<title>Mobile Nav</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700,600,300' rel='stylesheet' type='text/css'>
<link rel="stylesheet" type="text/css" media="all" href="css/style.css" />

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>

<div class="Navigation Navigation--deskto">

  <div class="header">
    <a href class="header-bag">Bag (9)</a>
    <a href class="header-logo">Feel<b>unique</b></a>
  </div>

  <span class="Navigation-burger">Menu</span>

  <ul class="Navigation-menu is-minimised">
    <li class="u-dt-hide u-tb-expand Navigation-search"><input type="text" placeholder="What are you looking for?"></li>
    <li class="u-dt-hide has-more"><a href="">Departments</a>
      <ul class="u-tb-expand">
        <li><a href="">Fragrance</a></li>
        <li><a href="">Hair</a></li>
        <li><a href="">Body</a></li>
        <li><a href="">Makeup</a></li>
        <li><a href="">Nails</a></li>
        <li><a href="">Electricals</a></li>
        <li class="has-more"><a href="">Featured Shops...</a>
          <ul>
            <li><a href="">Mens</a></li>
            <li><a href="">Healthy Living</a></li>
            <li><a href="">Organic</a></li>
            <li><a href="">Bath</a></li>
            <li><a href="">Sun &amp; Tan</a></li>
            <li><a href="">Kids &amp; Baby</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li class="u-dt-hide u-tb-expand"><a href="">Featured event shop</a></li>
    <li class="u-dt-hide has-more"><a href="">Shop by...</a>
      <ul>
        <li><a href="">Brands A-Z</a></li>
        <li class="has-more"><a href="">Offers</a>
          <ul>
            <li><a href="">3 for 2</a></li>
            <li><a href="">2 for 1</a></li>
            <li><a href="">Free Gifts</a></li>
            <li><a href="">Value Sets</a></li>
            <li><a href="">Supersizes</a></li>
          </ul>
        </li>
        <li><a href="">Gifts</a></li>
        <li><a href="">What's New</a></li>
        <li><a href="">Pic'n'Mix Samples Selection</a></li>
        <li><a href="">Gift Cards</a></li>
      </ul>
    </li>
    <li class="has-more"><a href="">My Account</a>
      <ul>
        <li><a href="">My Orders</a></li>
        <li><a href="">Product Subscriptions</a></li>
        <li><a href="">Wishlists</a></li>
        <li><a href="">Favourites</a></li>
        <li class="has-more"><a href="">My Offers</a>
          <ul>
            <li class="u-dt-hide"><a href="">My Offers</a></li>
            <li class="u-dt-hide"><a href="">My Discount Vouchers</a></li>
            <li><a href="">Suggestions on/off</a></li>
            <li class="u-dt-hide"><a href="">Previous Purchases</a></li>
          </ul>
        </li>
        <li class="u-divide has-more"><a href="">Account Details</a>
          <ul>
            <li class="u-dt-hide"><a href="">Personal Details</a></li>
            <li class="u-dt-hide"><a href="">Profile Builder</a></li>
            <li class="u-dt-hide"><a href="">Contact Preferences</a></li>
            <li class="u-dt-hide"><a href="">Change your password</a></li>
            <li><a href="">Linked Social Accounts</a></li>
            <li><a href="">Beauty Personality Quiz</a></li>
          </ul>
        </li>
        <li><a href="">Recommend a friend</a></li>
        <li class="u-divide has-more"><a href="">Help and advice</a>
          <ul>
            <li><a href="">Contact Helpdesk</a>
            <li class="u-dt-hide"><a href="">Support tickets</a></li>
          </ul>
        </li>
        <li><a href="">Not Jack? Sign out</a></li>
      </ul>
    </li>
  </ul>

</div>

<div class="page">

  <div class="page-nav">
    <ul>
      
    </ul>
  </div>


<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

</div>

<script>


// Onload

// Copy tablet elements into DOM (PoC only, do this in twig)
$('.u-tb-expand').each(function() {
  $('.page-nav > ul').append($(this).clone());
});
$('.page-nav *').removeClass('Navigation-search is-inactive u-dt-hide');
$('.page-nav ul ul ul, .page-nav .has-more').remove();

// Create back buttons
$('.Navigation-menu ul').addClass('is-inactive').prepend('<li class="Navigation-back"><a href="">&lt; Back</a></li>');




//Listeners

// Show nav
$('.Navigation-burger').css('cursor','pointer');
$('.Navigation-burger').on('click', function() {
  alert("shit has happened");
  $('.Navigation-menu').toggleClass('is-minimised');
  $('.Navigation-menu ul').addClass('is-inactive');
  $('.is-fading').removeClass('is-fading');
});

// Sub nav
$('.has-more > a').css('cursor','pointer');
$('.has-more > a').on('click', function(e) {
  e.preventDefault();
  //var subTitle = $(this).text();
  //$(this).parent().children().prepend(subTitle)
  $(this).parent().parent().children('li').addClass('is-fading');
  $(this).next().removeClass('is-inactive');
  
  // Resize the nav height
  //var listHeight = $(this).next()[0].clientHeight - 48;
  //$('.Navigation-menu').height(listHeight);

});

// Back up
$('.Navigation-back a').css('cursor','pointer');
$('.Navigation-back a').on('click', function(e) {
  e.preventDefault();
  $('.is-fading').removeClass('is-fading');
  $(this).parent().parent().addClass('is-inactive');

  // Resize the nav height
  //var listHeight = $(this).parent().parent().parent().parent()[0].clientHeight - 48;
  //console.log(listHeight);
  //$('.Navigation-menu').css('height', listHeight);  
});

</script>


